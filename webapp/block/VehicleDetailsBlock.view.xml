<mvc:View xmlns:html="http://www.w3.org/1999/xhtml" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:l="sap.ui.layout" 
	xmlns:core="sap.ui.core" controllerName="hnd.dpe.warranty.prior_work_approval.block.VehicleDetailsBlockController">
	<sap.ui.layout.form:Form xmlns:sap.ui.layout.form="sap.ui.layout.form" editable="true" objectBindings="{PWA>/}">
		<sap.ui.layout.form:layout>
	    	<sap.ui.layout.form:ResponsiveGridLayout/>
	    </sap.ui.layout.form:layout>
		<sap.ui.layout.form:formContainers>
			<sap.ui.layout.form:FormContainer 
				id="__container0" 
				title="{= ${PWA>/ObjectType} === 'VELO' ? 'Vehicle Details':'Product Details'}"
			>
				<sap.ui.layout.form:formElements>
					<sap.ui.layout.form:FormElement id="__element0">
						<sap.ui.layout.form:fields>
							<l:Grid defaultSpan="L4 M6 S6">
								<l:content>
									<l:VerticalLayout width="100%">
										<Label 
											id="ExternalObjectNumber_label" 
											text="{= ${PWA>/ObjectType} === 'VELO' ? 'VIN':'Serial Number'}"
											required="true" 
											labelFor="ExternalObjectNumber"
										/>
										<Input 
											id="ExternalObjectNumber_VELO" 
											value="{PWA>ExternalObjectNumber/value}"
											required="true"
											editable="{PWA>CanEdit}"
											visible="{= ${PWA>/ObjectType} === 'VELO'}"
											showSuggestion="true"
											suggest="onExternalObjectNumberSuggest"
											showTableSuggestionValueHelp="false"
											suggestionItemSelected="onExternalObjectNumberSelection"
											maxLength="35"
											change="onExternalObjectNumberChanged"
											suggestionRows="{/ZWTY_C_VIN}"
											maxSuggestionWidth="500px"
											valueState="{= ${PWA>ExternalObjectNumber/ruleResult/valid} ? 'None':'Error'}"
										>
											<suggestionColumns>
												<Column>
													<Text text="VIN" />
												</Column>
												<Column>
													<Text text="Vehicle Type" />
												</Column>
											</suggestionColumns>
											<suggestionRows>
												<ColumnListItem>
													<cells>
														<Label text="{VIN}" />
														<Label text="{Description}" />
													</cells>
												</ColumnListItem>
											</suggestionRows>									
										</Input>
										<Input 
											id="ExternalObjectNumber_SERN" 
											value="{PWA>ExternalObjectNumber/value}"
											required="true"
											
											editable="{PWA>CanEdit}"
											visible="{= ${PWA>/ObjectType} !== 'VELO'}"
											showSuggestion="true"
											suggest="onExternalObjectNumberSuggest"
											showTableSuggestionValueHelp="false"
											suggestionItemSelected="onExternalObjectNumberSelection"
											maxLength="35"
											change="onExternalObjectNumberChanged"
											suggestionRows="{/Zwty_c_serial_number}"
											maxSuggestionWidth="700px"
											valueState="{= ${PWA>ExternalObjectNumber/ruleResult/valid} ? 'None':'Error'}"
										>
											<suggestionColumns>
												<Column>
													<Text text="Serial Number" />
												</Column>
												<Column>
													<Text text="Description" />
												</Column>
											</suggestionColumns>
											<suggestionRows>
												<ColumnListItem>
													<cells>
														<Label text="{SerialNumber}" />
														<Label text="{Equipment_Text}" />
													</cells>
												</ColumnListItem>
											</suggestionRows>									
										</Input>
									</l:VerticalLayout>	
									
									<l:VerticalLayout width="100%">
										<Label text="Engine Number" labelFor="engineNumber"/>
										<Input  id="engineNumber" value="{PWA>EngineNumber}" 
											editable="{PWA>CanEdit}" maxLength="10"/>
									</l:VerticalLayout>
									
									<l:VerticalLayout width="100%">
										<Label text="Dealer Contact" labelFor="dealerContact"/>
										<Input 
											id="dealerContact" 
											value="{PWA>DealerContact}"
											maxLength="20"
											editable="{PWA>CanEdit}"
											showSuggestion="true"
											suggestionItems="{/EmployeeSet}">
											<suggestionItems>
												<core:ListItem key="{EmployeeNumber}" text="{FirstName} {LastName}" />
											</suggestionItems>										
										</Input>
									</l:VerticalLayout>	
								
									<l:VerticalLayout width="100%">
										<Label id="DateOfFailure_label" text="Date of Failure" labelFor="dateOfFailure"/>
										<DatePicker 
											id="DateOfFailure" 
											displayFormat="medium" 
											dateValue="{PWA>DateOfFailure/value}" 
											editable="{PWA>CanEdit}"
											change="onDateOfFailureChanged"
											valueState="{= ${PWA>DateOfFailure/ruleResult/valid} ? 'None':'Error'}"
										/>
									</l:VerticalLayout>
									<l:VerticalLayout width="100%">
										<Label text="Failure KM/Hrs" labelFor="failureKM"/>
										<Input id="failureKM" value="{PWA>FailureMeasure}" editable="{PWA>CanEdit}"/>
									</l:VerticalLayout>
									<l:VerticalLayout width="100%">
										<l:layoutData>
											<l:GridData span="L6"/>
										</l:layoutData>
										<Label id="MCPN_label" text="Main Causal Part Number (MCPN)" labelFor="MCPN"/>
								        <Input 
								          id="MCPN" 
								          required="true"
								          value="{PWA>/MCPN/value}"  
								          description="{PWA>MCPNDescription}"
								          change="onMCPNChanged"
								          editable="{PWA>/CanEdit}"
								          showValueHelp="true"
								          showSuggestion="true"
								          filterSuggests="false"
								          suggest="onMCPNSuggest"
								          suggestionItemSelected="onMCPNSelected"
								          suggestionRows="{/ZDPE_C_MATERIALS}"
								          valueHelpRequest="onSelectMCPN"
								          maxLength="40"
								          valueState="{= ${PWA>MCPN/ruleResult/valid} ? 'None':'Error'}"
								        >
								          <layoutData>
								            <l:GridData span="L6" />
								          </layoutData>
								          <suggestionColumns>
								            <Column>
								              <Text text="Part No." />
								            </Column>
								            <Column>
								              <Text text="Description" />
								            </Column>
								          </suggestionColumns>
								          <suggestionRows>
								            <ColumnListItem>
								              <cells>
								                <Label text="{materialNo}" />
								                <Label text="{description}" />
								              </cells>
								            </ColumnListItem>
								          </suggestionRows>                 
								        </Input>
									</l:VerticalLayout>								
								</l:content>
							</l:Grid>
						</sap.ui.layout.form:fields>
					</sap.ui.layout.form:FormElement>
				</sap.ui.layout.form:formElements>
			</sap.ui.layout.form:FormContainer>
		</sap.ui.layout.form:formContainers>
	</sap.ui.layout.form:Form>
</mvc:View>